# 动态索引

[[B-树 & B+树]]
[[红黑树]]

# 静态索引
> 以下copy自xj学长dsa笔记


## 11.1 定义
- 主码 : 数据库中每条记录的唯一标识
- 辅码 : 数据库中可出现重复值的码（属性）
  - 辅码索引把一个辅码值与具有这个辅码值的多条记录的主码值关联起来
  - 多数检索都是利用辅码索引完成的
- 索引 : (key, pointer)
- 索引文件：用于记录这种联系的文件
  - 稠密索引 : 对每个记录建立一个索引项
    - 主文件不需按关键码次序排列
  - 稀疏索引 : 对一组记录建立一个索引
    - 主文件必须按照关键码次序存放

### 线性索引
按照索引码值的顺序进行排序的文件
- 优缺点
  - 可对变长的数据库记录访问
  - 支持对数据的高效检索
    - 二分检索
  - 线性索引太大, 存储在磁盘中
    - 一次检索可能多次访问磁盘, 影响检索的效率
    - 使用二级线性索引

<div class="question-box">
    <span class="title">(2021 秋)</span>
    <p>设磁盘块大小是 <b>1024</b> 字节, 每个索引项需要 <b>8</b> 个字节. 一个包含 <b>25000</b> 条记录的数据文件, 若采用二级索引, 则一级索引文件和二级索引文件共需占用 _______ 磁盘块.</p>
</div>

**答案:** $\lceil \frac{25000}{1024/8}\rceil+\lceil \frac{25000}{(1024/8)^2}\rceil = 198$
___

### 静态索引
- 索引结构在文件创建时生成
- 一旦生成就固定下来, 在系统运行(例如插入和删除记录)
过程中, 索引结构不做改变
- 只有当文件再组织时才允许改变索引结构
> 多分树 : 大大减少访问外存的次数

### 倒排索引
- 按属性值建立索引, 索引表中的每一项包括 (attr,  ptrList):
 - 一个属性值
 - 具有该属性值的各关键码或者记录地址
- 优缺点
  - 支持基于属性的高效检索
  - 花费储存倒排表的代价, 降低更新的效率