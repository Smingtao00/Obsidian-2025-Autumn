
# 命题逻辑的等值演算

## 析取范式和合取范式

###  定义 16.2.1 简单析取式，简单合取式
命题变项及其否定统称为 **文字**，由有限个文字构成的析取式称为 **简单析取式**，由有限个文字构成的合取式称为 **简单合取式**。

> $p \lor \lnot p, \lnot p \lor \lnot q \lor r$ 都是简单析取式，分别由 $2$ 和 $3$ 个文字构成，把 $\lor$ 都换成 $\land$ 就是简单合取式


### 定理 16.2.1
1. 一个简单析取式是重言式当且仅当它同时含某个命题变项及它的否定式。
2. 一个简单合取式是矛盾式当且仅当它同时含某个命题变项及它的否定式。


### 定义 16.2.2 范式
由有限个简单合取式的析取构成的命题公式称作 **析取范式**，由有限个简单析取式的合取构成的命题公式称作 **合取范式**。析取范式与合取范式统称为 **范式**。


### 定理 16.2.2
1. 一个析取范式是矛盾式当且仅当它的每个简单合取式都是矛盾式。
2. 一个合取范式是重言式当且仅当它的每个简单析取式都是重言式。

### 定理 16.2.3
任一命题公式都存在与之等值的析取范式与合取范式。


### 定义 16.2.3 极小项和极大项
在含有 $n$ 个命题变项的简单合取式（简单析取式）中，若每个命题变项和它的否定式恰好出现一个且仅出现一次，而且命题变项或它的否定式按照下标从小到大或按照字典顺序排列，则称这样的简单合取式（简单析取式）为 **极小项**（**极大项**）

> $n$ 个命题变项共可以产生 $2^n$ 个不同的极小项，且每个极小项有且仅有一个成真赋值。若极小项的成真赋值所对应的二进制数等于十进制数 $i$，就将这个极小项记作 $m_i$。
> 类似地，$n$ 个命题变项共可产生 $2^n$ 个不同的极大项，每个极大项只有一个成假赋值，将其对应的十进制数 $i$ 做极大项的下标，记作 $M_i$。


### 定理 16.2.4
设 $m_i$ 与 $M_i$ 是命题变项含 $p_1, p_2, \dots, p_n$ 的极小项和极大项，则 $$\lnot m_i \Leftrightarrow M_i , \space \lnot M_i \Leftrightarrow m_i$$

### 定义 16.2.4 主析取范式和主合取范式
所有简单合取式都是极小项的析取范式称为 **主析取范式**；
所有简单析取式都是极大项的合取范式称为 **主合取范式**。


### 定理 16.2.5
任何命题公式都存在与之等值的主析取范式和主合取范式，并且是唯一的。

> 证明：[[PKU离散数学基础slides.pdf#page=1279&selection=88,0,89,1|PKU离散数学基础slides, 页面 1,279]]

> 在求给定公式的主析取范式或主合取范式时，一定要根据公式中命题变项的个数决定极小项或极大项中 **文字的个数**


### 主析取范式的用途

1. 求公式的成真赋值和成假赋值。
2. 判断公式的类型
	设公式 $A$ 中含 $n$ 个命题变项，容易看出：
	1. $A$ 为重言式当且仅当 $A$ 的主析取范式含全部 $2^n$ 个极小项。
	2. $A$ 为矛盾式当且仅当 $A$ 的主析取范式不含任何极小项。此时，记 $A$ 的主析取范式为 $0$。
	3. $A$ 为可满足式当且仅当 $A$ 的主析取范式中至少含一个极小项。
3. 判断两个命题公式是否等值。

### 主合取范式
1. 矛盾式无成真赋值，因而矛盾式的主合取范式含全部 $2^n$ 个极大项，这里 $n$ 为公式中命题变项个数。
2. 重言式无成假赋值，主合取范式不含任何极大项，规定重言式的主合取范式为 $1$。
3. 可满足式的主合取范式中极大项的个数一定小于 $2^n$。

### 例 16.2.4
用公式的主析取范式判断下列公式的类型
1. $\lnot (p \rightarrow q) \land q$
2. $p \rightarrow ( p \lor q)$
3. $(p \lor q) \rightarrow r$

> 1. 0
> 2. $\Leftrightarrow \lnot p \lor p \lor q \Leftrightarrow 1 \Leftrightarrow m_0 \lor m_1 \lor m_2 \lor m_3$
> 3. $m_0 \lor m_1 \lor m_3 \lor m_5 \lor m_7$



---

# 命题逻辑的推理理论

## 推理的形式结构

数理逻辑的主要任务是用数学的方法研究推理

所谓 **推理** 是指从前提出发推导出结论的思维过程，而 **前提** 是已知的命题公式集合，**结论** 是从前提出发应用推理规则推导出的命题公式。

### 定义 17.1.1 正确的推理
设 $A_1, A_2, \dots , A_k$ 和 $B$ 都是命题公式，若对于 $A_1, A_2, \dots ,A_k$ 和 $B$ 中出现的命题变项的任意一组赋值，或者 $A_1 \land A_2 \land \dots \land A_k$ 为假，或者当 $A_1 \land A_2 \land \dots \land A_k$ 为真时 $B$ 也为真，则称由前提 $A_1, A_2, \dots, A_k$ 推导出结论 $B$ 的推理是 **有效的** 或 **正确的**，并称 $B$ 为 **有效的结论**。

> 前提是一个有限的公式集合。设前提为集合 $\Gamma$，将由 $\Gamma$ 推导出 $B$ 的推理记为 $\Gamma \vdash B$。若推理是正确的，则记为 $\Gamma \vDash B$，否则记为 $\Gamma \nvDash B$。这里称 $\Gamma \vdash B$ 或 $\{A_1, A_2, \dots, A_k\} \vdash B$ 为 ***推理的形式结构***。


### 定理 17.1.1
命题公式 $A_1, A_2, \dots, A_k$ 推导出 $B$ 的推理正确当且仅当 $$A_1 \land A_2 \land \dots \land A_k \rightarrow B$$ 为重言式。

> 上面这个式子也叫做 ***推理的形式结构***。

判断重言式
1. 真值表
2. 等值演算
3. 主析取范式

有一些重要的重言蕴含式，称作 ***推理定律***

### 推理定律
1. 附加律，$A \Rightarrow (A \lor B)$
2. 化简律，$(A \land B) \Rightarrow A$
3. 假言推理，$(A \rightarrow B) \land A \Rightarrow B$
4. 拒取式，$(A \rightarrow B) \land \lnot B \Rightarrow \lnot A$
5. 析取三段论，$(A \lor B) \land \lnot B \Rightarrow A$
6. 假言三段论，$(A \rightarrow B) \land (B \rightarrow C) \Rightarrow (A \rightarrow C)$
7. 等价三段论，$(A \leftrightarrow B) \land (B \leftrightarrow C) \Rightarrow (A \leftrightarrow C)$
8. 构造性二难，$(A \rightarrow B) \land (C \rightarrow D) \land(A \lor C) \Rightarrow (B \lor D)$
9. 构造性二难（特殊形式），$(A \rightarrow B) \land (\lnot A \rightarrow B) \Rightarrow B$
10. 破坏性二难，$(A \rightarrow B) \land (C \rightarrow D) \land(\lnot B \lor \lnot D) \Rightarrow (\lnot A \lor \lnot C)$




## 自然推理系统

### 定义 17.2.1 形式系统
一个形式系统 $I$ 由下面 $4$ 个部分组成：
1. 非空的字母表 $A(I)$
2. $A(I)$ 中符号构造的合式公式集 $E(I)$
3. $E(I)$ 中一些特殊的公式组成的公理集 $A_X(I)$
4. 推理规则集 $R(I)$

将 $I$ 记为 $4$ 元组 $\langle A(I),E(I),A_X(I),R(I)\rangle$，其中 $\langle A(I),E(I)\rangle$ 是 $I$ 的 **形式语言系统**，而 $\langle A_X(I),R(I)\rangle$ 为 $I$ 的 **形式演算系统**。

形式系统一般分为两类
一类是 **自然推理系统**，它的特点是从任意给定的前提出发，应用系统中的推理规则进行推理演算，最后得到的命题公式是推理的结论（它是有效的结论，可能是重言式，也可能不是重言式）

另一类是 **公理推理系统**，它只能从若干条给定的公理出发，应用系统中的推理规则进行推理演算，得到的结论是系统中的重言式，称为系统中的 **定理**。

离散数学课程只介绍自然推理系统 $P$，它的定义中无公理部分，因而只有 $3$ 个部分。

### 定义 17.2.2 自然推理系统
自然推理系统 $P$ 定义如下：
1. 字母表
	1. 命题变项符号：$p, q, r, \dots, p_i, q_i, r_i, \dots$，其中 $i \geq 1$
	2. 联结词符号：$\lnot, \land, \lor, \rightarrow, \leftrightarrow$
	3. 括号与逗号：$(,),,$
2. 合式公式
3. 推理规则
	1. **前提引入规则**：在证明的任何步骤都可以引入前提
	2. **结论引入规则**：在证明的任何步骤所得到的结论都可以作为后继证明的前提
	3. **置换规则**：在证明的任何步骤，命题公式中的子公式都可以用等值的公式置换，得到公式序列中的又一个公式。
	4. $\dots$（对应推理定律的推理规则）[[PKU离散数学基础slides.pdf#page=1340&selection=120,0,121,2|PKU离散数学基础slides, 页面 1,340]]


### 证明

设前提 $A_1, A_2, \dots, A_k$，结论 $B$ 和公式序列 $C_1, C_2, \dots, C_l$。如果每一个 $C_i$，$i = 1,2, \dots ,l$，是某个 $A_j$，或者可由序列中前面的公式应用推理规则得到，并且 $C_l = B$，那么称公式序列 $C_1, C_2, \dots, C_l$ 是由 $A_1, A_2,\dots, A_k$ 推导出 $B$ 的 **证明**。


## 两种构造证明的方法

1. 附加前提证明法
	[[PKU离散数学基础slides.pdf#page=1348&selection=84,0,84,6|PKU离散数学基础slides, 页面 1,348]]
2. 归谬法
	[[PKU离散数学基础slides.pdf#page=1351&selection=82,0,82,3|PKU离散数学基础slides, 页面 1,351]]

