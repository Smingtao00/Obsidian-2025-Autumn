- 课程名：音乐与数学

- 教师：王杰，毕明辉（音乐专题）

- 分数占比：
  - 20：平时作业（4次，课程网站提交，祖传题）
  - 30：小组研究题（数学，物理，cs，文科）
  - 50：期末闭卷考试

---
# Tips

1. 神秘数字 42433——看到节奏奇性直接选这个
  1. 怎么记？

  自己想办法记。

2. 五度圆周 FCGDAEB
  3. C  D  E
  4. F  G  A  B
  5. 自然大调和它的关系小调满足调号完全相同（也就是音阶完全相同，只是主音不同）
  6. 所以五度圆周上可以从自然大调位置推出自然小调位置
  7. 也可以把自然大调音阶写出来，下属音（VI音）就是关系小调的主音

8. 音乐会音高 ：A4, 440Hz

9. 助教习题课：二分音符只有p和d，不要搞出q；临时调号写在符头前面

10. 单声部音乐：一个声部，一条单独的旋律线

   多声部音乐：至少两个声部；又分为

   - 主调音乐：一个声部为主要旋律，其他声部主要起伴奏、烘托的作用

     <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221164247569.png" alt="image-20251221164247569" style="zoom:50%;" />答案是 D

   - 复调音乐：不同声部具有各自的相对独立性，按照 **对位法** 结合在一起 

     - 巴赫写了“赋格”这一音乐形式。赋格是（一种多声部音乐，有严格的对位法则）

11. 纯律生律元素：纯五度 3：2，大三度 5：4；可以以此推纯四度（八度你也知道），小三度

    <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221165400707.png" alt="image-20251221165400707" style="zoom:50%;" />答案是 x/2

12. 三分损益和五度相生都只有理想的纯五度和纯四度；纯律有两种不同的大二度（全音），但是大三度的距离是一致的

13. 律学会做这题就问题不大：

    <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221173156851.png" alt="image-20251221173156851" style="zoom:50%;" />答案是 D

    三分损益：先乘 3/2，然后 3/4，交替（频率和弦长成反比）；

    五度相生：一直乘 3/2，大于 2 的话除以 2

    上面这两个是一样的

    纯律：C-E 是大三度，对应生律元素 5/4

    十二平均律：喜欢我手开根号吗（记住纯五度是 702 音分，$1200\log_2{\frac{3}{2}}$ 约等于 $702$）

14. 三分损益和五度相生：从C上推：上下上下上下 下上下上下上；从C下推：下上下上下上 上下上下上下

15. 无论是自然小调、和声小调还是旋律小调，它们在乐谱开头所使用的**调号完全相同**。

    调号的作用是定义一个“调性框架”。因为和声小调只是在自然小调的基础上，为了和声需要临时升高了第 VII 级音，这种变化被视为**临时变音**，而不是调性的根本改变。

    1. **自然小调**：乐谱中除了调号规定的升降号外，通常没有额外的临时升降号。
    2. **和声小调**：虽然调号和自然小调一样，但在正文音符中，你会看到**第 VII 级音**前面总有一个**临时升降号**（使其升高半音）。

    <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221185054560.png" alt="image-20251221185054560" style="zoom: 67%;" />选B

16. 自然大调和自然小调在五度圈（五度圆周）上的位置一样，都是一个半圆（包括 7 个音），半圆顺时针第二个音是大调（小调）的主音。

17. <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221192156901.png" alt="image-20251221192156901" style="zoom:50%;" />

    选 B，C 错在和弦转位之后根音是不变的，只是低音变了。（所以要看仔细）

18. <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221194933508.png" alt="image-20251221194933508" style="zoom:80%;" />

    1. A 是三和弦，F
    2. T
    3. F ==请注意题目中的所有变音记号== 如果 A 延音线前面那个音没有还原号，那就是对的
    4. F ，D 是增大七和弦
    5. T

19. <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221201302149.png" alt="image-20251221201302149" style="zoom:50%;" />

    选 B。

    不同移调变换得到的音列，和对每个移调变换得到音列进行倒影变换得到的音列是两两不同的，这样就至少有 24 条互不相同的音列。我们又知道 $P_0$ 在 48 阶群 $\mathscr{M}$ 的作用下至多得到 48 个互不相同的音列，这些音列构成 $P_0$ 在 $\mathscr{M}$ 作用下的 **轨道**，如果少于 48 个，说明 $\exists g \in \mathscr{M}, \space g(P_0) = P_0$，也就是说 $P_0$ 的稳定化子 $|G_{P_0}| \neq 1$，而根据 $|\mathscr{M}| = |Orb(P_0)|\cdot|G_{P_0}|$，可知 $|Orb(P_0)| = 48 / |G_{P_0}|$，$|Orb(P_0)|$ 最小是 24，也只能是 24，因为 $|G_{P_0}|$ 一定是正整数。\

20. $$P = R * (L * R)^{3} = R * L * R * L * R * L * R.$$

21. $P,R,L$ 把大三和弦变成小三和弦，小三和弦变成大三和弦

22. 记 $I$ 为恒等变换，则显然有 $P * P = R * R = L * L = I$，也就是说 $P,R,L$ 本身就是其在群 $\mathscr{N} = \langle P,R,L \rangle$ 中的逆元

    由音网相关知识有 $P * R * L * P * R * L = I$，所以有 $P * R * L = L * R * P$ （在音网上看，$P * R * L$ 和 $L * R * P$ 恰好是一个六边形上一对对角线上顶点之间的两条最短路径。注意音网是无向图（DAG））

    <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221213414478.png" alt="image-20251221213414478" style="zoom:50%;" />

    所以 D 是对的；C 是错的，因为偶数次变换后仍然是大三和弦；B 显然是错的，因为 P 是把以 x 为根音的大三和弦和小三和弦互换，根音确定的情况下在同一个自然大调音阶上三音和五音也是确定的。

23. <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221213940712.png" alt="image-20251221213940712" style="zoom:50%;" />

    一眼选 B，秒了。A 记一下有助于保持和声听感的连贯性，C 的话画个音类圆周变一下就知道是对的了，~~知道 B 错误的情况下，如果考试的时候很闲可以画一下~~。

24. 音列矩阵怎么画？第一行是初始音列，第一列是初始音列的倒影音列，然后每一行根据移调变换填空即可。

25. ==$L_p=20\log_{10}\frac{p}{p_0}$==

26. $$f_1 = \frac{1}{2L}\sqrt{\frac{T}{\rho}}$$

27. $$1200\log_2(\frac{f_2}{f_1})$$

28. 纯律有两种大二度：9 : 8 和10 : 9

29. 白噪声的功率谱随频率轴的变化满足（功率谱密度为常数）。

30. 功率谱密度反比于频率的声音称为（粉噪声）

31. 巴赫动机的音类集合：{B,C,A,♭B}


---

# 音乐专题

1. 舒伯特 《魔王》……调性与情绪。 Lieder Erlkoenig 调性和弦
2. 《卖报歌》……五声音阶
3. 1=bB：绝对音律
4. 大小调：停在6：小调；
5. 四大声腔：海盐腔、弋阳腔、余姚腔、昆山腔（四个戏曲剧种之合称）
6. 调对结构的作用
    主调：出现最多的,例：贝多芬《第五钢琴协奏曲》第三乐章：bE-bB-bE-C-bA-E-e-bE

7. 属：上五度，下属：下五度
8. 《今夜无人入睡》男高音
9. 欣赏音乐四大能力：联觉,想象,通感,移情
    欣赏方法（过程）：泛听精听赏听鉴听
10. 京剧之前……秦腔
11. 世界音乐分类：古典、流行、民间
12. Enya
13. acappella VBB（voice, beating, bass line）
     ex: Pentatonix “Daft Punk”
14. 法国长笛乐派由演奏家 米歇尔.布拉维 开创（名字最长）
15. Aratos 三重奏演奏的西藏舞曲(tibet dancing)由（盛宗亮）作曲。
16. 纯律由（扎利诺）发明。



贝多芬 Fate Symphony 1804-1808
《命运交响曲》（课上完整带着讲了）：

- 四个音作为一个细胞来组成，通过转调等手法使之展现残暴or光明。
- 残暴的命运；与之斗争的自己。
- 残暴命运（一）->思索人生（二）->正面交锋（三、四）

---

# 导论：音乐与数学

- 节拍
  - **拍子** 是一段音乐中的基本律动
  - 若干拍子按照一定的强弱规律组合形成 **节拍**
  - 常见的节拍有 **二拍子，三拍子，四拍子和六拍子** 等
  - 构成节拍的一组拍子循环出现，每次循环构成一个 **小节**
  - 乐谱中用 **小节线** 来标记一个小节的结束
  - 拍号
    - 节拍通常用 **拍号** 来表示
    - 2/4，四分音符为一拍，每小节两拍；“强，弱”
    - 3/4，四分音符为一拍，每小节三拍；“强，弱，弱”
    - 4/4，四分音符音符为一拍，每小节四拍；“强，弱，次强，弱”
    - 6/8，八分音符为一拍，每小节六拍；“强，弱，弱，次强，弱，弱”
  - 二拍子，三拍子通常称作 **单拍子**，由 **相同的** 单拍子结合而成的拍子称作 **复拍子**
    - 单拍子：每一小节 **只有一个强拍** 
      - 结构：强 + 弱（或强 + 弱 + 弱）
      - 常见类型
        - 单二拍子：每小节两拍。例如 2/4（强，弱）， 2/2， 2/8
        - 单三拍子：每小节三拍。例如 3/4（强，弱，弱），3/8，3/2
    - 复拍子：由两个或两个以上 **相同** 的单拍子组合而成的拍子
      - 结构：包含一个 “强拍” 和一个或多个 “次强拍”
      - 组合逻辑：它是同类单拍子的叠加。例如，两个 2/4 拍组合在一起就变成了 4/4 拍
      - 常见类型：
        - 复二拍子：由两个相同的单拍子组成。例如 4/4（两个 2/4 组成，“强，弱，次强，弱"），6/8 （两个 3/8 组成，“强，弱，弱，次强，弱，弱”）
        - 复三拍子：由三个相同的单拍子组成。例如 9/8（三个 3/8）
        - 复四拍子：由四个相同的单拍子组成。例如 12/8（四个 3/8）
  - 素数拍只能是单拍子
- 节奏

  - ***对比***
    - 节拍：若干 **拍子** 按照一定的 **强弱规律** 形成的组合。
    - 节奏：由 **音符** 的不同 **时值** 组合构成的模式。
  - 节奏的表示法
    - 忽略旋律的变化, 只观察时间维度: 拍号为 2/4, 即以四分音符为一拍, 每小节有两拍。 时值最短的是十六分休止符和十六分音符, 以十六分音符的长度作为时间单位, 则一个小节分成 8 个时间单位。基于上述分析, 就抽象出没有音高 (pitch) 的节奏型。
    - 为了对节奏型进行定性分析和定量的研究, 需要把乐谱形式转化为其他表达形式。
      - “长条方格”表示（见课件，每个小方格代表一拍，标有圆点的小方格代表的是发声的 **起拍**）
      - 圆周表示（就是把长条方格首尾相连）
- 固定节奏型（rhythmic ostinato）

  - 固定节奏型是在乐曲中无变化地反复出现, 贯穿始终的节奏模式。
  - 例：《哈巴涅拉》《古巴颂》
  - 极大均衡原则

    - 在所有的拍上, 要将起拍尽可能地均匀分布。
  - ==节奏奇性==
    - 在节奏型的圆周表示中，把每个起拍所对应的点与其 **对径点** 连接起来
    - 不包含 **对径** 的起拍对的节奏型具有节奏奇性（即起拍的对径点都不是起拍）
  - 节奏型的度量特征

    - 在节奏型中, 由相邻起拍点之间的距离构成的序列称作该节奏的 **距离序列**
    - 这些距离反映了相邻起拍之间的时间间隔的 **绝对长度**
    - 相比绝对长度，人耳对 **相对变化** 更为敏感（[3,3,4,2,4] 和 [2,2,3,2,3] 听起来差不多）
    - ==轮廓==：用 + - 0 来表明距离序列中相邻两项的相对变化
    
      - [3,3,4,2,4] $\rightarrow$ [0,+,-,+,-]，节奏型是反复出现的，所以最后一个距离 4 要与第一个距离 3 作比较 。
      - 上面这个序列称为颂乐节奏型的 **轮廓（contour）**
      - Fume-fume 节奏型的距离序列为 [2,2,3,2,3]，故其轮廓也等于 [0,+,-,+,-]
    - 轮廓同构
    
      - 节奏型 A 和 B 称作是 **轮廓同构的（contour isomorphic）**，如果 B 的轮廓序列可以经过 **循环移位** 得到 A 的轮廓序列
      - 古巴颂乐 和 Fume-fume 的节奏型是轮廓同构的
    - ==影子==
      - 各个起拍之间的间隔中点形成一个与发声的节奏型对偶的节奏,称作原来节奏型的 **影子（shadow）**
      - 影子节奏的拍点位置可能不在原来节奏的拍点上，而是位于两个拍点中间。
      - ![image-20251220112343604](C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220112343604.png)



---

# 音乐基础知识

1. 声音的物理属性

   1. 音乐：凭借声波振动而存在、在时间中展现、通过人类的听觉器 官而引起各种情绪反应和情感体验的艺术门类。

   2. 声音 (sound) 是音乐的载体, 它是由振动产生的. 物体振动引起周围空气的疏密变化,形成声波. 声波是纵波(longitudinal wave), 即“质点的振动方向与传播方向平行的波”

   3. 声音的四个物理属性：<img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220113344720.png" alt="image-20251220113344720" style="zoom:50%;" />

   4. 音乐会音高（concert pitch）：中央 C 上方的 A，定义为 440 Hz

   5. 音高：位置理论（耳蜗不同部分），时间理论（每个神经元再振动的固定相位处放电，锁相）

   6. 声压：听力下限阈值：$20\mu Pa = 20 \times 10^{-5}Pa$，人耳对声音强弱的感觉不是线性的，用 **声压水平（SPL）** 来度量，定义为：

      ==$L_p=20\log_{10}\frac{p}{p_0}$==

      $p_0$ 是 $1000Hz$ 时的听觉下限阈值（$20\mu Pa$)，$p$ 时实际声压。这样定义的生压水平，单位是 **分贝（decibel，dB）**

      人耳对不同频率有不同的声音阈值

   7. 音色与波形

      1. 不同的音色在直观上表现为不同的 **振动波形**，它是由各个 **振动模态** 中的频率和振幅决定的

      2. **振幅包络**

         ADSR：起音，衰减，持续，释放

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220114302156.png" alt="image-20251220114302156" style="zoom:50%;" />

   8. 频谱图与泛音列

      1. 描述声音的 **各个频率成分** 随 **时间** 变化的图形称作 **频谱图**

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220114608953.png" alt="image-20251220114608953" style="zoom:50%;" />

      2. 把声音的各个 **频率成分** **从高到低** 排列起来形成的序列称作 **泛音列（overtone series，harmonic series）**

      3. 傅里叶分析：复杂周期函数 可以用若干简单正弦函数和余弦函数叠加产生。

         振动函数随时间变化：振动在时域上的特性；振动在不同频率上的振幅描绘出来：频域上的特征（两个不同维度的视角）

2. 乐音体系

   1. 乐音体系：音乐中使用的具有固定音高的全体乐音构成的集合。

   2. 其中元素称作 **音级**

   3. 全体音级从低到高排列起来，得到 **音列**

   4. 音列中相邻两个音级之间相差一个 **半音（semitone）**

   5. 在钢琴键盘上，任意两个相邻的琴键（包括白键和黑键）发出的声音都相差一个半音，隔开一个键的两个琴键发出的声音都相差一个 **全音（whole tone）**

   6. 每个音级有一个名字，称为 **音名（pitch name）**。基本的音名只有 7 个，就是 $C,D,E,F,G,A,B$。

   7. 在每一个 **八度（octave）** 中，相应位置的音循环重复使用这 7 个音名，这就产生了重名的音。为了区别不同八度之间同名的音，给音名加上下表，以示区别：$C_1,C_2,\dots,C_7,C_8$。

   8. 变音记号 $\rightarrow$ 变化音级

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220120515589.png" alt="image-20251220120515589" style="zoom:50%;" />

   9. 等音的/异名同音（E 与 bF)

   10. 唱名法/阶名唱法

       1. 固定唱名法
       2. 首调唱名法

3. 记谱法

   1. 最早的乐谱《碣石调 幽兰》

   2. 全休止符黑框贴四线，二分休止符黑框贴三线

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220120905065.png" alt="image-20251220120905065" style="zoom:50%;" />

   3. 高音谱号（G谱号）大圆圈位于二线，指明中央C上方纯五度音级 $G_4$ 的位置

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220121048232.png" alt="image-20251220121048232" style="zoom:67%;" />

   4. 中音谱号（C谱号）中心位于三线，指明中央C位置。（也有将其中心置于四线的，称为 次中音谱号）

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220121254768.png" alt="image-20251220121254768" style="zoom:67%;" />

   5. 低音谱号（F谱号）冒号中心位于四线，指明中央C下方纯五度音级 $F_3$ 的位置

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220121307089.png" alt="image-20251220121307089" style="zoom: 67%;" />

   6. 变音记号：调号——每一行开始处谱号后面的变音记号；在未改变调号之前，对乐谱中所有同名音，不论哪个八度都有效

   7. 临时变音记号：记在音符符头前面的变音记号 ==乐谱题尤其需要注意！==

      1. 作用范围为变音记号之后，一小节之内，同高度的音
      2. 加变音记号的音用延音线连结起来到下一小节的继续有效 ==注意！！！==
      3. 同一小节内已升高或降低了的音有改变时，应另记变音记号
      4. <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220132416785.png" alt="image-20251220132416785" style="zoom: 80%;" />

4. 音程

   1. 乐音体系中，两个音级之间的距离称为 **音程**，高的音称为 **上方音（冠音）**，低的音称为 **下方音（根音）**

   2. 音程中的两个音可以先后发声，称为 **旋律音程**；也可以同时发声，称为 **和声音程**

   3. 音程的名称由两个参数共同确定：**度数** 和 **半音数**

      | 音程名称        | 纯律频率比 | 十二平均律近似值（频率比） | 音程度数    | 半音数 |
      | --------------- | ---------- | -------------------------- | ----------- | ------ |
      | 纯一度          | 1:1        | 1.000                      | 同度        | 0      |
      | 小二度（半音）  | 16:15      | 1.059                      | 二度        | 1      |
      | 大二度（全音）  | 9:8        | 1.122                      | 二度        | 2      |
      | 小三度          | 6:5        | 1.189                      | 三度        | 3      |
      | 大三度          | 5:4        | 1.260                      | 三度        | 4      |
      | 纯四度          | 4:3        | 1.335                      | 四度        | 5      |
      | 增四度 / 减五度 | 45:32      | 1.414（√2）                | 四度 / 五度 | 6      |
      | 纯五度          | 3:2        | 1.498                      | 五度        | 7      |
      | 小六度          | 8:5        | 1.587                      | 六度        | 8      |
      | 大六度          | 5:3        | 1.682                      | 六度        | 9      |
      | 小七度          | 9:5        | 1.782                      | 七度        | 10     |
      | 大七度          | 15:8       | 1.888                      | 七度        | 11     |
      | 纯八度          | 2:1        | 2.000                      | 八度        | 12     |

   4. 上面的音程统称为 **自然音程**，可以在白键上得到

   5. 从自然音程出发，改变其半音数，可以得到 **变化音程**

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220133431922.png" alt="image-20251220133431922" style="zoom:50%;" />

5. 协和音程与不协和音程

   1. 通常认为：纯四度、纯五度和纯八度音程以及大小三度、大小六度音程属于 **协和音程（consonant interval）**；二度、七度音程和其他所有增、减音程都属于 **不协和音程（dissonant interval）**。
   2. 在协和音程中，三度和六度音程与纯音程有很大不同，所以进一步把协和音程分为完全协和音程（纯音程）和不完全协和音程（大小三度、大小六度音程）。
   3. 音程的协和理论
      1. 毕达哥拉斯：长短成简单整数比（两个声音的振动频率之比越简单，相应的音程就越协和）
      2. 赫尔姆霍兹：拍音理论：频率为 $\omega_1,\omega_2$ 的两个声音叠加，每秒产生拍音数 $\delta = |\omega_1 - \omega_2|$；赫尔姆霍兹认为两个音之间不含拍音的为协和音程, 含有拍音的为不协和音程。实际中每秒少于 $6$ 个拍音或者多于 $120$ 个拍音的也算作协和音程，而每秒含 $33$ 个拍音的音程最不协和。
   4. 长征组歌，使用大二度
   5. 音乐是关于量与量之间的关系（“相对”）（普罗克鲁斯，希腊），但也有绝对量（tempo）



---

# 弦外之音

1. 一维振动方程

   1. 二阶偏微分方程（pde）$u(t)$（只需了解）

      1. 一维振动方程 $\frac{\partial^2 u}{\partial t^2} = c^2 \frac{\partial^2 u}{\partial x^2},\space c = \sqrt{T/p}$

      2. 边值条件 $u(0, t) = u(L, t) = 0, \space \forall t \geq 0$

      3. 分离变量法解方程

      4. 解为无穷级数

         $$u(x, t) = \sum\limits_{n = 1}^\infty u_n(x, t) = \sum\limits_{n = 1}^\infty (a_n \cos{(\frac{n \pi c}{L}t)} + b_n \sin{(\frac{n \pi c}{L}t)})\sin{(\frac{n\pi}{L}x)}$$

2. 振动模态与泛音

   1. 弦的振动并非简单的单一频率运动, 而是无穷多个正弦振动的叠加。

   2. 对于 $n = 1,2, \dots,$

      $$u_n(x,t) = \sqrt{a_n^2+b_n^2}\sin(\omega_nt + \theta_n)\sin(\frac{n \pi}{L}x)$$

      称为弦振动的第 $n$ 个 **振动模态（mode of vibration）**，其中 $\omega_n = \frac{n\pi c}{L}$

   3. $u_n(x, t)$ 的振动频率

      $$f_n = \frac{n}{2L}c = \frac{n}{2L}\sqrt{\frac{T}{\rho}},\qquad n =1,2,3,\dots$$

   4. ==Mersenne定律==

      当 $n = 1$ 时，$u_1(x,t)$ 的振动频率

      $$f_1 = \frac{1}{2L}\sqrt{\frac{T}{\rho}}$$

      $T$ 为张力，$\rho$ 为线密度，$L$ 为长度

   5. $f_1$（基音），$f_2$（第一泛音，后面都叫泛音），$f_3$（第二泛音），$\dots$ 称为弦的 **固有频率**，通常把序列称为 **泛音列**

   6. 赫尔姆霍兹：协和泛音列重合理论

3. 拨弦与傅里叶级数

   1. 建模：拨弦的傅里叶级数（了解），各振动模态的频率为 $(2k + 1)c/2L$，全是基频 $c/2L$ 的奇数倍。

      只有对应于奇数的频率 $f_1, f_3, f_5, \dots$ 才会出现。

      几何解释：当在 L/2 处释放弦以后，弦的振动应该始终保持关于 L/2 对称。当 n 为奇数时，振动波形都是关于 L/2 对称的，而当 n 为偶数时，相应的波形都是关于 L/2 反对称的，因而是不可能出现的。

4. 空穴来风——管乐器

   1. 端口校正：两端固定的弦满足 $u(0, t) = u(L, t) = 0, \forall t \geq 0$。而振动的空气柱会超出管的端口，故须对其音高（频率）进行 **端口校正（end correction）**
   2. 开管：两端是波腹 $\lambda_n = \frac{2L}{n}$，（$f,2f,3f,\dots$），例子：长笛
   3. 闭管：一端是波节 $\frac{4L}{2n - 1}$，只有偶次泛音（$f,3f,5f,7f,\dots$），例子：单簧管
   4. 计算基频：$f_1 = v/\lambda_1$
   5. overblow 超吹：吹泛音



---

# 乐音体系的生成（律学）

==考试重点!!!==

1. **律学（temperament）**要解决的问题：
   1. 确定 **绝对音高（absolute pitch）**，就是要确定每个音级所对应的振动频率。
   2. 确定同一个八度内不同音级的 **相对音高（relative pitch）**

2. 三分损益

   1. 三分损益（管仲）==掌握三分损益法产生宫、商、角、变徵、徵、羽、变宫七声音阶的过程和计算方法==

      ![image-20251220143721851](C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220143721851.png)

      > [!warning]
      >
      > 注意，这里增损的是弦长（管长）而不是频率（~~虽然倒过来就是了~~）

   2. 由于音高与弦长、管长都成反比，五音按从低到高排列是：

      徵（108），羽（96），宫（81），商（72），角（64）

      “徵-宫”：81/108 = 3:4，纯四度

      “宫-高八度的徵”：54/81 = 2:3，纯五度

   3. <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220144333766.png" alt="image-20251220144333766" style="zoom:50%;" /><img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220144355552.png" alt="image-20251220144355552" style="zoom:50%;" />

   4. 十二律

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220144814530.png" alt="image-20251220144814530" style="zoom:67%;" />

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220145830718.png" alt="image-20251220145830718" style="zoom: 67%;" />

      - 为什么得到蕤宾后没有按照次序进行下生，而是上升大吕？

        为了让所有的律管长度都保持在接近黄钟的范围内（即维持在一个八度左右），必须改为**上生（益）**，让管长增加，使音调降下来，回到基准音程内。

   5. 旋宫不归：#E 三分损一得到的频率是 C 的 1.01（$2^{19}/3^{12}$）倍，这说明对仲吕再做三分损一, 得到的音会比“清宫” C′ 略高一点,形成了“旋宫不归”的问题。

3. 五度相生

   1. 毕达哥拉斯，3:2 为生律元素，每次乘 3/2，如果超过 8 度（大于 2）就除以 2

      ![image-20251220150731900](C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220150731900.png)

      > [!tip]
      >
      > 上图是向上方向的五度相生，同理也有向下方向的五度相生，即从 C 开始
      >
      > $$\dots \leftarrow bB \stackrel{4/3}{\leftarrow} F \stackrel{2/3}{\leftarrow} C$$

   2. ==毕达哥拉斯音差==：

      1. 在得到 #E 后，继续考虑其上方纯五度音的频率 $3^{11}/2^{17} \times 3/2 = 3^{12}/2^{18} > 2$，将其降低一个八度，得到 $3^{12} / 2^{19} = (3/2)^{12}\cdot(1/2)^7 > 1$，按照现代律制，#E 上方五度应该是 #B，它与高八度的 C' 是等音的。把这个音级降低八度，就应该得到起始音级 C。

      2. $(3/2)^{12}\cdot(1/2)^7$ 在音乐上的含义是从 C 出发做 12 次上方纯五度，再连续降低 7 个八度。一个纯五度有 7 个半音，一个八度有 12 个半音，所以应该回到出发点 C。但是按照毕达哥拉斯五度相生律，最终只能回到比 C 略高一点的地方，这个略大于 1 的数值 $\frac{3^{12}}{2^{19}}$ 就是著名的 **毕达哥拉斯音差（Pythagorean comma）**

      3. 通过五度相生律计算C上方的 #C：从 C 开始向上方向五度相生

         计算C上方的 bD：从 C 开始向下方向五度相生，之后再乘 2 （差一个八度）

         ==比较C上方的 (#C, bD),(#D, bE),(#F,bG),(#G,bA),(#A,bB)，频率比都是毕达哥拉斯音差== 

   3. 单声音乐：单一曲调构成的音乐，包括独唱独奏，齐唱齐奏（包括八度重叠）

   4. 多声部音乐

      1. **奥尔加农（Organum）** 音乐样式
         1. 大约公元 9 世纪前后
         2. 多声部音乐的雏形
      2. 多声部音乐可以分为
         1. **复调音乐（polyphony）**：不同声部具有各自的相对独立性，按照 **对位法（counterpoint）**结合在一起
         2. **主调音乐（homophony）**：以一个声部为主要旋律声部，其余声部相对缺少独立性，对主要旋律声部起伴奏、烘托的作用（舒伯特《军队进行曲》）

4. 纯律

   1. 在五度相生法（生律元素 3:2）中添加一个生律元素：理想大三度的比例（5:4）,形成了 **纯律（just intonation）**

   2. 生律过程 ==掌握纯律的生律元素: 3:2 和 5:4, 以及由其产生七个自然音级的计算方法== 

      1. 假定音级 C 对应于频率 1
      2. 根据生律元素 3:2 得到 C 上方纯五度音程的音 G（频率为 3/2），根据生律元素 5:4 得到 C 上方大三度音程的音 E （频率为 5/4）
      3. 一个四度音程加上一个五度音程得到八度音程，八度音程的频率比是 2:1，所以四度音程的频率比应该是八度音程频率比除以五度音程频率比，为 4:3,得到 C 上方纯四度音程的音 F（频率为 4/3）
      4. 再由大三度音程 F-A 得到 音级 A 对应的频率为（$4/3 \times 5/4 = 5/3$）
      5. 根据纯五度音程 E-B 得到 B（频率15/8）
      6. 根据纯五度音程 G-D' 得到 D'（9/4），得到 D（9/8）
      7. ***总的来说就是推各个音程的频率比***：已知纯五度，大三度，纯八度，推纯四度，小三度
      8. 树洞上看到的：8543，2:1,3:2,4:3,5:4，~~学明白了的应该能看懂 =w=~~

      ![image-20251220160446657](C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220160446657.png)

   3. 优点：大三和弦 C-E-G,F-A-C',G-B-D' 的频率比都符合理想的 4:5:6，比五度相生律中的大三和弦更加悦耳，这在复调音乐中尤为重要。（对于多声部音乐具有重要意义）

   4. 明显的缺点：五度音程 D-A 不协和，$\frac{5}{3} : \frac{9}{8} = \frac{80}{54}$，与理想的 3:2 = 81:54 相差 81:80 = 1.0125，称之为 **谐调音差（syntonic comma）**（升高四个纯五度(28个半音)，降低两个八度(24个半音)和一个大三度(4个半音)）；

      有两种不同的大二度（全音），C-D,F-G,A-B 比例为 9/8，而 D-E,G-A 比例为 10/9；

      转调问题。

   5. 造成以上问题的根本原因：数域

5. 中庸全音律（mean-tone temperaments）

   1. 连续升高4个纯五度和先升高2个纯八度再升高1个大三度，存在协调音差

      为了消除音差，自然的想法是将音差分摊到每个4个纯五度上，音程关系是频率的比值而不是简单的加减，因此算术平均无法解决问题

      设 $a=81/80$ 为协调音差，其 $1/4$ 等于 $d = a^{1/4}$（几何平均） 

      缩小 1/4 协调音差后的纯五度音程比值为 $3/2 \cdot \frac{2\cdot 5^{1/4}}{3} = 5^{1/4}$

      用这个 $5^{1/4}$ 作为生律元素，从 C 出发依次可得下面 6 个音级：

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220162411643.png" alt="image-20251220162411643" style="zoom:50%;" />

      C' 与 F 的比值应该等于生律元素：

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220162513987.png" alt="image-20251220162513987" style="zoom:50%;" />

   2. 纯律中存在两种不同的大二度（全音）：C-D(9:8)，D-E(10:9)，取它们的几何平均得到 $\frac{\sqrt5}{2}$，这恰为中庸全音律中 D 的值。这说明在中庸全音律中，既保持了大三度音程 C-E 的理想比例 5:4，又使得大二度音程 C-D 和 D-E 的频率相等

   3. 小二度（半音）B-C'的频率比和 E-F 的频率比相同，但是两个小二度叠加后（频率平方）得到的频率比要大于大二度的频率比，说明***在中庸全音律中，两个半音比一个全音要“宽”一些***

   4. 优点

      1. 消除了谐调音差
      2. 各个全音音程和半音音程都是一致的
      3. 大、小三度和大、小六度音程都合于纯律，能够得到纯律的效果
      4. 能够在一定范围内转调

   5. 缺点：牺牲了纯五度的理想比例 3:2，这个误差在经过 11 次五度相生后最终会产生一个与纯五度相差甚大的五度音程，历史上称作 **“狼五度”（wolf fifth）**

6. ==平均律==
   1. 设一个八度之间有 12 个半音，$f_{12} = 2f_0$，构成等比数列，公比 $r = 2^{1/12}$

7. ==音分== 

   1. 音分是度量不同声音的频率之比的单位

   2. 设两个声音的频率分别为 $f_1 < f_2$，则它们之间的音分数等于 

      $$1200\log_2(\frac{f_2}{f_1})$$

   3. 平均律一个半音 100 音分

   4. 设两个音级之间频率比为 $r$，相应的音分为 $c$，则有 ==掌握==

      $$r = 2^{\frac{c}{1200}},\qquad c = 1200 \cdot \log_2r$$



---

# 音乐与随机，机器作曲

==只要掌握初等概率论的基本思想、概念和计算方法==

- 随机作曲：有限集合中选取旋律演奏

  - “音乐骰子游戏”：扔骰子决定演奏哪段旋律。
  - 小步舞曲通常采用A，B（两支双簧管和一只大管，名为三声中部，两个部分组成，每部分8小
    节），A曲式

- 马尔科夫链

  - 从概率论的角度，可以把音乐看作是一个 **随机过程**:随机变量的序列

    音高的 **状态空间** $\Omega =\{$ 音级（即 $C,D,\dots$）$\}$

  - $\xi_{n+1}$ 只与 $\xi_n$ 有关，无记忆性（**马尔科夫性质（Markov property）**）

  - 具有马尔科夫性质的随机过程称为 **马尔科夫链（Markov chain）**

  - 时间齐次的马尔科夫链：$\forall x,y \in \Omega, \forall t > 0, P(\xi_{t + 1} = y \space | \space \xi_t = x) = P(\xi_t = y \space | \space \xi_{t - 1} = x)$，即相应的条件概论不随时间变化。这时可以用一个矩阵来刻画马尔科夫链的行为。

  - 转移概率，转移概率矩阵 $P$ （每一行元素之和都等于 1）

  - 如何作曲？

    - 统计一段乐谱中的所有音（只考虑音高，不考虑时值），得到状态空间 $\Omega$
    - 统计 $\Omega$ 中每个音后面紧跟着出现的所有音，分别除以这个音的出现次数，作为 $P$ 中这个音对应的行的每一列的元素（没有出现过的音对应位置为 0）

  - $m$ 阶的马尔科夫链：移动到下一个状态的概率只与过去的 $m$ 个状态有关。

- 遗传算法 （感觉不考）

  - **遗传算法（Genetic algorithm）** 是模拟生物进化中的遗传、变异和自然选择过程的一种搜索全局最优解的算法
  - 出发点是由若干个 **个体（individuals）** 组成的 **种群（population）**。例如由若干乐曲片段构成的种群
  - 遗传算法要对这些个体进行 交叉，变异 等操作，使它们“进化”，产生下一代种群
  - 根据音乐本身的性质要求事先设定 **适应度函数**，用以衡量进化结果
  - 遗传算法不断迭代, 直到产生需要的进化结果 (令人满意的乐曲片段), 或者达到预设的迭代次数

- 音乐信息检索 （感觉不考）
  - 音乐流派分类
  - 机器学习
  - 编码
    - FFT：快速傅里叶变换
    - DCT：离散余弦变换
  - 监督学习 vs 无监督学习
  - 学习样本
- 生成式人工智能
  - <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220171337040.png" alt="image-20251220171337040" style="zoom:50%;" />
  - <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220171322110.png" alt="image-20251220171322110" style="zoom:50%;" />



---

# 调式、音阶与和弦

1. 调式与音阶

   1. 若干音级围绕着某一个有稳定感的中心音级，按照一定的音程关系组织在一起构成的乐音体系称为 **调式（mode）**。例如：大调式、小调式、中国名族调式 $\dots\dots$ 

   2. 调式中具有稳定感的中心音级称为 **主音（tonic）**。

   3. **调式音阶** 从主音开始，主音可以位于任何一个音级

   4. ==自然大调==（全全半全全全半）

      1. 自然大调是由两个相同的四声音阶结合而成，每个四声音阶的四个音级之间分别构成 大二度、大二度、小二度 音程。而两个四声音阶中间相隔大二度。例如以 $C$ 为主音的自然大调音阶：

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220172535964.png" alt="image-20251220172535964" style="zoom:67%;" />

      2. C 大调音阶：

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220172632162.png" alt="image-20251220172632162" style="zoom:50%;" />

      3. 每个音：

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220172654694.png" alt="image-20251220172654694" style="zoom:50%;" />

   5. ==自然小调==（全半全全半全全，通过 C 大调和 a 小调记忆）

      1. 自然小调是由两个不同的四声音阶结合而成，中间相隔大二度。两个四声音阶的四个音级之间的音程分别为 “大二度，小二度，大二度” 和 “小二度，大二度，大二度”

      2. 以 A 为主音的自然小调音阶：

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220172859486.png" alt="image-20251220172859486" style="zoom:67%;" />

      3. 五线谱上：

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220172931670.png" alt="image-20251220172931670" style="zoom:50%;" />

   6. ==和声小调==：$VII$ 音（导音）升高半音，例子：刘文正(1979)《小雨中的回忆》，林诗达词曲

      1. 以 a 为主音的和声小调音阶：（和上图对比，有一个临时升号）

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220173021956.png" alt="image-20251220173021956" style="zoom:50%;" />

   7. 旋律小调：（上行）$VI,VII$ 都升高半音（后四个音 = 大调，有大调色彩）例子：《莫斯科郊外的晚上》

      1. 以 a 为主音的旋律小调音阶：

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220173251221.png" alt="image-20251220173251221" style="zoom:50%;" />

   8. 升号调：

      按照五度循环地规律依次考虑以 C,G,D,A,E,B,\#F,\#C 为主音的自然大调音阶，则在相邻的两个音阶中，除了一个音级需要升高半音，其他的音级都相同。因此按照上述次序生成的大调音阶，后一个比前一个恰好增加一个升号。

   9. 降号调：

      对称地，按照反方向地五度循环规律依次考虑以 C,F,bB,bE,bA,bD,bG,bC 为主音的自然大调音阶，就会发现在相邻的两个音阶中，除了一个音级需要降低半音，其他的音级都相同。因此按照上述次序生成的大调音阶，后一个比前一个恰好增加一个降号。

   10. 调号：

       根据调式将需要升高或降低的变音记号统一写在五线谱谱号的右边，称为 **调号（key signature）**。

       <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220173829212.png" alt="image-20251220173829212" style="zoom:50%;" />

   11. 等音调

       B 大调和 bC 大调的音阶中，各个音级都是等音的。在按照十二平均律调律的键盘乐器上，这两个调的音阶在键盘上的位置是完全一样的，只不过是在五线谱上标记为不同的音名。像这样的两个调称为 **等音调**。

       在 15 个自然大调 中有三对等音调。

   12. 关系大小调和平行大小调

       每个大调都对应一个与其 **调号相同** 的小调。对称地，每个小调也都对应一个与其调号相同的大调。

       对称地，每个小调也都对应一个与其调号相同的大调。这种调号相同的大、小调称作 **关系大小调**。大调的主音通常用大写字母来标注，小调的主音则用小写字母来标注。例如 bB 大调，#c 小调等等。

       按照这种标记法，bE 大调和 c 小调是关系大小调，G 大调和 e 小调也是关系大小调。

       具有相同主音的大小调称为 **平行大小调**。例如 bE 大调和 be 小调是平行大小调。

       <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220174150179.png" alt="image-20251220174150179" style="zoom:50%;" />

   13. 近关系调：每个调式有五个大调及三个关系小调

       把 24 个大、小调看作一个家族，则成员之间的关系有远近之分。每一个调式均有 5 个 **近关系调（closely related keys）**

2. 和弦

   1. 三个或三个以上不同音高的乐音，按照一定的音程关系结合起来，称为 **和弦（chord）**。

      **和声学** 是研究和弦的构成、连接及其在音乐作品中具体应用的理论，是主调音乐的基础。

   2. ==三和弦==

      1. 传统的和弦是根据 **三度叠置原则** 构建起来的。

      2. 按照三度音程关系叠置起来的三个音所构成的和弦称为 **三和弦（triad）**。

      3. 在三和弦中，按三度音程排列时，下面的音称为 **根音**。中间的音与根音成三度关系，称为 **三音**。最上面的音与根音成五度关系，称为 **五音**，也称为 **冠音**。

      4. 叠置的两个三度音程可以分为大三度或者小三度，从而得到四种三和弦：（大小增减）

         1. 大三和弦：大三度+小三度 = 纯五度
         2. 小三和弦：小三度+大三度 = 纯五度
         3. 增三和弦：大三度+大三度 = 增五度
         4. 减三和弦：小三度+小三度 = 减五度

         大三和弦和小三和弦是协和和弦，因为三个音之间的大、小三度音程和纯五度音程都是协和音程。

         增三和弦和减三和弦是不协和和弦，因为其根音与五音之间增、减五度音程是不协和音程。

   3. 七和弦

      1. 在三和弦上方再叠加一个七度音就构成一个 **七和弦（seventh chord）**

      2. 根据七和弦所包含的三和弦类别和根音上方七度音之间的音程关系，共有七种不同的七和弦：（都是大三度则 = 三和弦）

         命名：下方三和弦+七度：各取一字

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220175458770.png" alt="image-20251220175458770" style="zoom:50%;" />

      3. 传统和弦根据 **三度叠置原则**（三度音程五线谱上要隔一间或隔一线）构建，因此有时写重升重降号。

   4. 和弦的转位

      在实际应用中，以根音为低音的和弦称为 **原位和弦**，以三音、五音或者七音为低音的和弦称为 **转位和弦**。

      - 三和弦有两种转位
        - ==第一转位==：以三音作为低音，也称作 ==六和弦==, 因为这时其低音与高音相差六度
        - ==第二转位==：以五音作为低音的，也称作 ==四六和弦==, 因为这时其低音与中音、高音分别相差四度和六度。
      - 七和弦有三种转位
        - 第一转位：三音为低音，也称作 五六和弦
        - 第二转位：五音为低音，也称作 三四和弦
        - 第三转位：七音为低音，也称作 二和弦

3. 调式音阶中的和弦

   1. 在调式音阶上，以任一音级作根音都可以构造和弦。

   2. 和弦标记

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220181144836.png" alt="image-20251220181144836" style="zoom:50%;" />

   3. 和弦的调性功能

      在调式的I、IV、V（主音，下属音，属音）音级上构成的和弦分别称为：

      - 主和弦I：稳定感：开头结尾
      - 属和弦V：不稳定性（常用属七和弦（GBDF）），想要回到主音
      - 下属和弦IV：连接和过渡，从主和弦出发/连接道属和弦

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220181251276.png" alt="image-20251220181251276" style="zoom:50%;" />

      它们统称为 **正和弦**

      - 在一定和声范围内的和弦连接称为 **和声进行（harmonic progression）**，它体现出了和弦之间的相互关系，功能联系以及音响色彩。
        - 正和弦的连接有三种基本方式：
          - 正格进行：$I \rightarrow V \rightarrow I$

          - 变格进行：$I \rightarrow IV \rightarrow I$
      
          - 复式进行：$I \rightarrow IV \rightarrow V \rightarrow I$
      
        - <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221102157183.png" alt="image-20251221102157183" style="zoom:50%;" />
      
      - 从不协和的和弦出发, 连接到协和和弦或者较为协和的和弦，这样的和弦进行叫做 **解决**
        - 在调性音乐中，所有的和弦进行最终都要解决到主和弦 I
      
      - 特里斯坦和弦 4 7 #2 #5：悲剧气氛色彩，强调和弦本身音乐效果
      
      - 蓝调：和弦连接特色



---

# 旋律与对称

1. 旋律中的对称：群论

   1. 许许多多不同音高、不同时值的音符组合起来就构成了 **旋律（melody）**

   2. ==移调==

      1. **严格移调**：把一段旋律中的每个音级升高 或者降低相同的半音数。

      2. **调性移调**：适当调整升高或降低的半音数, 使得移调后得到的各个音级仍然在调式音阶中。

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251220190725291.png" alt="image-20251220190725291" style="zoom:50%;" />

   3. ==逆行==：把一段旋律依照相反的次序“从尾到头”地重复一遍

   4. ==倒影==：把旋律中的上升音程用相同半音数的下降音程代替, 把下降音程用相同半音数的上升音程代替

      不同的对称轴会有不同的倒影

   5. 移调，逆行，倒影都是 **对称变换**

   6. 调性音乐总有一个主音……限制移调

2. 从乐音体系到音类空间

   1. $T_n(x) = x + n$，$n < 0$ 时，$T_n$ 是降低 $|n|$ 个半音的移调变换，而 $T_0$ 是 **恒等变换**

   2. 二元关系（见离散数学笔记）

      1. 笛卡尔积

      2. 自反性，对称性，传递性 $\Leftrightarrow$ 等价关系

      3. 八度关系是乐音体系 $\mathbb{M}$ 上的一个等价关系

      4. 等价类，商集，分划

      5. 乐音体系中根据八度关系形成的等价类称为 **音类（pitch class）**

         1. 按照十二平均律，八度关系把所有的音级分成 12 个音类

         2. 把 12 个音类放在一起，构成一个集合

            $\mathscr{PC}=\{\overline{\text{C}},\overline{\sharp\text{C}},\overline{\text{D}},\dots,\overline{\text{A}},\overline{\sharp\text{A}},\overline{\text{B}}\}，$

            称作 **音类空间（pitch class space）**

            等音的音级属于同一个音类

         3. $\mathscr{PC}$ 和 $\mathbb{Z}_{12}$ 

3. 音乐变换群

   1. ==移调变换==

      设 $n\in\mathbb{Z}$ 是一个整数，定义升高 $n$ 个半音的移调变换 $T_{n}$ 

      $$T_{n}(\overline{x})=\overline{x+n},\quad\forall\overline{x}\in\mathbb{Z}_{12}$$

      $T_m = T_n \Leftrightarrow m \equiv n (mod 12)$，本质上只有 12 个移调变换 $T_0, T_1, \dots, T_{11}$

   2. 变换的复合，代数结构（见离散笔记）

      1. 具有结合律 $\rightarrow$ 半群
      2. 半群 + 有单位元 $\rightarrow$ 独异点
      3. 独异点 + 有逆元 $\rightarrow$ 群
      4. 群 + 交换律 $\rightarrow$ Abel群

   3. ==循环群==：每个元素都是 **生成元** 的方幂

      1. $(\mathbb{Z}^{12}, \oplus)$ 是 12 阶循环群
      2. $(\mathscr{T}, *) \cong (\mathbb{Z}_{12}, \oplus)$ ==移调变换群和模12加法群同构==

   4. ==倒影变换==

      记 $I$ 为保持音类 $\overline{\text{C}}$ 不变的倒影变换，则有 

      $$I(\overline{x})=-\overline{x},\quad\forall\overline{x}\in\mathbb{Z}_{12}$$

   5. ==复合变换 T*I==

      对任意 $0\le k\le 11$ 和 $\overline{x}\in\mathbb{Z}_{12}$，

      $$T^{k}*I(\overline{x})=\overline{k-x}=I*T^{-k}(\overline{x})$$

      即有 $T^{k}*I=I*T^{-k}$。

   6. 倒影变换 $I$ 与移调变换 $T^k(0 \leq k \leq 11)$ 复合可以得到 12 个不同的倒影变换。

      $$\mathscr{D} = \langle T, I \rangle$$ 表示由 $T$ 和 $I$ 关于变换的复合 $*$ 生成的群。这时一个比 $\mathscr{T}$ 更大的群，包含 12 个移调和 12 个倒影。

      $\mathscr{T}$ 是 $\mathscr{D}$ 的 **子群**

   7. 正四边形的 4 个旋转和 4 个反射关于变换的复合构成一个群，称作 **二面体群（dihedral group）**，记作 $D_8$

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221105534801.png" alt="image-20251221105534801" style="zoom:50%;" />

   8. ==掌握== 音类空间 $\mathscr{PC}$ 上由移调变换 $T$ 和倒影变换 $I$ 生成的变换群

      $$\mathscr{D}=\langle T,I\rangle=\{T^{i}\text{ 或 }T^{i}*I,0\le i\le 11\}$$

      同构于正 $12$ 边形的变换群（二面体群），即有

      $$\mathscr{D}\cong D_{24}$$

      **注意**：二面体群 $D_{2n}$（$n\ge 3$）不是交换群！

   9. 置换，轮换表达式（见离散笔记）

   10. 置换群，$n$ 次置换群，$n$ 次对称群 $S_n, \space |S_n| = n!$ （见离散笔记）

   11. ==逆行变换==

       用符号 $R$ 代表逆行变换。则对于任意一个音类的序列

       $$\overline{x_{1}},\overline{x_{2}},\dots,\overline{x_{k-1}},\overline{x_{k}},\quad\overline{x_{i}}\in\mathscr{PC}，$$

       $R$ 的作用为

       $$R(\overline{x_{1}},\overline{x_{2}},\dots,\overline{x_{k-1}},\overline{x_{k}})=\overline{x_{k}},\overline{x_{k-1}},\dots,\overline{x_{2}},\overline{x_{1}}。$$

       即把整个序列的次序倒过来。

   12. 把逆行变换 $R$ 添进 $\mathscr{D}=\langle T, I\rangle$，最终就得到一个更大的群

       $$\mathscr{M} = \langle T, I, R \rangle。$$

       可以证明，群 $\mathscr{M}$ 的阶 $|\mathscr{M}| = 48$，其结构是一个 **直积 (direct product)**

       $$\mathscr{M} = \langle T, I \rangle \times \langle R \rangle \cong D_{24} \times \mathbb{Z}_{2}。$$

       其中的元素形如

       $$T^{i}, T^{i} * I, T^{i} * R, T^{i} * I * R, \quad 0 \le i \le 11。$$

4. 十二音技术

   1. 出发点：12 音序列

      1. 一个 **音列** 就是 12 个音类的一个排列

   2. ==掌握== 初始音列 $P_0$

      1. 移调变换得到 $P_0,P_1,\dots,P_{11}$

      2. 对 $P_n$ 做关于其 **第一个音类** 的倒影变换，得到 **倒影音列**，记作 $I_n$

         $I_0, I_1, I_2, \dots, I_{11}$

      3. 对 $P_n$ 做逆行变换，得到一个 **逆行音列** $R_n$

         $R_0, R_1, \dots, R_{11}$

      4. 对 $I_n$ 做逆行变换，就得到 **逆行倒影音列** $RI_n$

         $RI_0, RI_1, \dots, RI_{11}$

      5. 这 48 个音列组成一个 **音列矩阵（tone row matrix）**

         1. $12 \times 12$ 的方阵‘
         2. 第一行为初始音列 $P_0$，第一列为初始音列的倒影 $I_0$

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221111744376.png" alt="image-20251221111744376" style="zoom:67%;" />

         3. 其他行：根据第一个音的关系进行移调
         4. 勋伯格：《钢琴组曲》 op.25，罗忠镕：《涉江采芙蓉》

   3. 音列的对称性

      1. 从一个初始音列出发可以得到 48 个音列，但是这 48 个音列中可能由相等的，因此实际得到的互不相同的音列可能少于 48 个。

         例：从全半音音阶 $P_0$ 出发只能得到 24 个互异的音列

      2. 轨道：一个元素 $x \in X$ 的轨道就是当 $x$ 被群 $G$ 里面所有的元素全部作用一次之后，他的所有的可能的在集合 $X$ 中的落点，记为 $O(x)$。

      3. 稳定化子：$G$ 中使得 $g(x) = x, \space g \in G, x \in X$ 的元素构成的集合 $G_x$

      4. 轨道-稳定化子定理

         对于任意 $x \in X$，有 $$|G| = |O(x)|\cdot|G_x|$$

         > [!tip] 
         >
         > 1. $G_x$ 是 $G$ 的子群。
         > 2. 证明 $O(x)$ 与 $G_x$ 的左陪集的集合存在双射，即 $$\forall p, g \in G, p*x = q*x \Leftrightarrow pG_x = qG_x$$，于是 $|O(x)| = [G:G_x]$  
         > 3. 由 Lagrange 定理 即证。

      5. 定理 A: 

         给定音列 $$P_{0} = 0, a_{1}, a_{2}, \dots, a_{10}, a_{11}.$$

         存在 $k: 1 \le k \le 11$, 使得 $I_{k} = R_{0}$ 的充要条件是 

         $$0 + a_{11} = a_{1} + a_{10} = a_{2} + a_{9} = \dots = a_{5} + a_{6} = k \pmod{12},$$ 

         其中的 $k$ 为奇数。

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221114416013.png" alt="image-20251221114416013" style="zoom:50%;" />

      6. 定理 B

         给定音列

         $$P_{0} = 0, a_{1}, a_{2}, \dots, a_{10}, a_{11}.$$

         存在 $k: 1 \le k \le 11$, 使得 $P_{0} = R_{k}$ 的充分必要条件是 $k = 6$, 且有
      
         $$\begin{cases} a_{6} = a_{5} + 6 \\ a_{7} = a_{4} + 6 \\ \dots \dots & (\text{mod } 12). \\ a_{10} = a_{1} + 6 \\ a_{11} = 6 \end{cases}$$
      
         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221114626330.png" alt="image-20251221114626330" style="zoom:50%;" />

---



# 音类集合与新黎曼理论

1. 从音类集合到集合类

   1. 由若干音类构成的集合称为 **音类集合**，简称 **pc集（pc set）** ==掌握==

      - 包含 $n$ 个音类的 pc集 称作是一个 $n$-元 pc 集。显然 $0 \leq n \leq 12$，任意一个 pc集 都可以看作是 $\mathscr{PC}$ 的一个子集合
      - 音类集合中的元素是 **音类**，而不是构成传统和弦的 **音级**，音类集合中的元素也无须满足 “三度叠置” 原则
      - 例子：
        - {C,E,G} = {0,4,7} 对应一个大三和弦
        - {A,C,E} = {9,0,4} 对应一个小三和弦
        - {G,B,D,F} = {7,11,2,5} 对应一个属七和弦
        - {F,B,#D,#G} = {5,11,3,8} 对应于特里斯坦和弦
        - {C,D,E,F} = {0,2,4,5} 对应一个非传统和弦
      - 从音类集合的角度看，**音阶** 也是一个 pc集
      - 根据紧凑原则对每个 pc 集规定一个标准的表达式，称为这个 pc 集的 **标准序** 或者 **标准形**

   2. ==音类圆周上的 pc 集==

      1. 一个 n-元 pc 集可以表示成音类圆周中的一个内接 n-边形

         <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221115939975.png" alt="image-20251221115939975" style="zoom:50%;" />

   3. ==音类之间的距离==

      对于任意两个音类 X,Y，它们之间的 **距离** 定义为从音类圆周上从 X 出发，到达 Y 所经过的 **最少** 音类数

      显然 $1 \leq d \leq 6$

   4. ==距离向量==

      在音类圆周上，一个 $n$-元 $\text{pc}$ 集被表示成一个 $n$-边形，它有

       $$C_{n}^{2} = \frac{n(n-1)}{2}$$ 

      对顶点。把这 $C_{n}^{2}$ 对顶点用直线相连，则这些连线分别构成 $n$-边形的边和对角线。$n$-边形中的每一对顶点代表了这个 $\text{pc}$ 集中的两个音类。定义这个 $\text{pc}$ 集的**距离向量** $$\delta = (d_{1}, d_{2}, \dots, d_{6}),$$ 

      其中 $d_{i}$ 等于距离为 $i$ 的顶点对的数目。

      - 给出的是所有音类对之间的距离，描述了所有音程含量，很大程度上刻画了声音效果
      - 移调不改变距离向量

   5. ==作用在音类集合上的移调变换==

      12 阶循环群 $\mathscr{T} = \langle T \rangle$ 作用在某个 pc 集 $\mathscr{X}$ 上，可以得到 12 个 pc 集

      任意两个大三和弦，总可以找到某个移调变换使它们相同

      说明在群 $\mathscr{T}$ 的作用下，12 个大三和弦属于同一条 **轨道（orbit）**，可以把 12 个大三和弦归于同一个 **类（class）** 

   6. ==作用在音类集合上的倒影变换==

      在音类圆周上，倒影变换 $I$ 相当于作关于 C-#F 轴的反射。进一步，$I$ 和 $T$ 共同生成一个 24 阶群 $\mathscr{D}$，它同构于二面体群 $D_{24}$

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221132442259.png" alt="image-20251221132442259" style="zoom:50%;" />

   7. ==群 $\mathscr{D}$ 在音类集合上的作用==

      $T$ 把大三和弦变成大三和弦，$I$ 把大三和弦变成小三和弦。它们的 **复合** $T * I$ 把大三和弦变成另一个小三和弦

      ***任意给定两个大三和弦或小三和弦*** $\mathscr{X, Y}，$必存在群 $\mathscr{D}$ 中变换 $g$，使得 $g(\mathscr{X}) = \mathscr{Y}$

   8. 音类集合的分类

      在群 $\mathscr{D} = \langle T, I \rangle$ 的作用下，pc集就按照 $\mathscr{D}$ 的轨道被分成了若干等价类。一个pc集的等价类（轨道）称为一个 **集合类（set class）**。换言之，通过 $\mathscr{D}$ 的作用对 4096 个pc集做了一个分类。

      例如：220个3元pc集被分成了12个集合类，其中 24 个大、小三和弦对应的pc集属于同一个等价类，换言之，它们在群 $\mathscr{D}$ 的同一条轨道中。

   9. 音类集合表，原型，福特名称

      1. 按照一定的方法在每个集合类里取一个pc集作为 **代表**，就得到了 **音类集合表**。
      2. 集合类代表的标准序称为这个集合类的 **原型**。例如：对应于大、小三和弦的集合类的原型为 {C,bE,G} = {0,3,7}
      3. 艾伦·福特给每个集合类起了一个名字 k-x（k-xx）
         1. k 是该集合类中 pc集 包含的音类数目
         2. x 或 xx 是序号
         3. 例如 {0,3,7} 所在集合类被命名为 3-11，意指 3-元 pc集形成的集合类中的第 11 个
      4. 属七、半减和弦在同一集合类，大三、小三和弦在同一集合类

   10. ***音级 $\rightarrow$ 音类 $\rightarrow$ 音类集合 $\rightarrow$ 集合类***   

   11. 全音程和弦：一个 n-和弦 $\mathscr{A}$ 称为是 **全音程和弦**，如果其距离向量 $\delta = (1,1,1,1,1,1)$。可见 $\mathscr{A}$ 包含 6 对距离互不相同的音类。根据 $C_n^2 = 6$ 可以得出 $n = 4$。

       例如 {B,C,D,#F},{C,#C,E,#F} 都是全音程和弦

       <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221135012093.png" alt="image-20251221135012093" style="zoom:50%;" />

       全音程和弦的构成不满足三度叠置原则, 从而不是传统的七和弦, 在调性音乐中只有在极特殊的情形才会出现.。但是在无调性音乐的创作中, 全音程和弦具有重要的地位。

       - 定理：在群 $\mathscr{D} = \langle T, I \rangle$ 的作用下，只有两类互不等价的全音程和弦 $\mathscr{A_1,A_2}$，它们在音类集合表中的名词分别为 4-Z29 和 4-Z15

   12. ==命题== ：集合类中 pc 集的距离向量

       移调变换 $T$ 和倒影变换 $I$ 不改变 pc集 的距离向量。从而在同一个集合类中的 pc 集具有相同的距离向量。

       但是，具有相同距离向量的两个 pc集 可能分属不同的集合类，例如全音程和弦 $\mathscr{A_1,A_2}$

   13. 子集合：

       - 字面上的：直接就是
       - 抽象的：需要变换

   14. ==掌握==：音类圆周与五度圆周

       1. 在音类圆周上，根据五度相生法重新排列 12 个音类，可以得到一个新的音类圆周，称为 ==五度圆周==。特点：
          1. 它上面的每个半圆弧都对应一个自然大调音阶，其 ***主音是这个半圆弧上顺时针方向的第 2 项***。(example: C 顺时针出发的一个半圆弧包含 G 大调音阶的各音类)
          2. 从数学上看，定义变换：$M_7 : \mathbb{Z}_{12} \rightarrow \mathbb{Z}_{12}: x \rightarrow 7x (mod 12), \qquad \forall x \in \mathbb{Z}_{12}$，则 $M_{7}$ 引起的 $0,1,2,\dots,11$ 的排列恰好把音类圆周变成五度圆周。进一步它还把全音程和弦 $\mathscr{A_1}$ 变成 $\mathscr{A_2}$
          3. 可以判断一个音类出现在哪些大调音阶中。
          4. 可以确定一个和弦可能出现在哪几个大调中。

2. 和弦连接与黎曼变换 ==据说很喜欢考==

   1. 协和三和弦
      1. 大写字母 X 记为 X 为根音的大三和弦
      2. 小写字母 x 记为 x 为根音的小三和弦
   2. ==集合类 3-11（大、小三和弦对应的pc集的集合类）上的变换== ==25春考了很多！！！==
      1. ==平行变换 $P$==: $\mathscr{C} \rightarrow \mathscr{C}$，把任意一个三和弦变成与之平行的三和弦，例如 $P(C) = c,P(ba) = bA$
         - 具有相同根音的大三和弦和小三和弦称为 **平行的** 大小三和弦
         - 平行变换 $P$ 把小三和弦的三音升高半音，把大三和弦的三音降低半音
         - 保持纯五度音程
      2. ==关系变换 $R$==: $\mathscr{C} \rightarrow \mathscr{C}$，把任意一个三和弦变成其关系三和弦
         - 称大三和弦 C 和小三和弦 a 是 **关系三和弦** （大调的关系小调）
         - 保持大三度音程
      3. ==导音交换 $L$==: 把大三和弦的根音降低一个半音；把小三和弦的冠音升高一个半音
         - 保持小三度音程
      4. 集合 $\mathscr{C}$ 上这三个变换 $P,R,L$ 统称为 **黎曼变换**
      5. <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221141021602.png" alt="image-20251221141021602" style="zoom: 50%;" /><img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221141043083.png" alt="image-20251221141043083" style="zoom:50%;" />
      6. 共同特点
         1. 几何上看，都只改变三角形的一个顶点（分别以三角形的三条边对应中线作对称轴）
            1. ==记忆方法==
            2. 三角形三边长度递减排列，标为 0，1，2
            3. P 以 0 边中线为对称轴，R 以 1 边中线为对称轴， L 以 2 边中线为对称轴
            4. 原理就是P，R，L，分别保持纯五度，大三度，小三度音程不变。
         2. 音乐上看，都只改变三和弦中的一个音类，保持其他两个音类不变，从而变换前后的和弦共享一个 **音程**

3. 音网

   1. P，R，L循环（~~懒得打了，看图吧~~）

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221142405403.png" alt="image-20251221142405403" style="zoom:50%;" />

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221142416177.png" alt="image-20251221142416177" style="zoom:50%;" />

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221142449132.png" alt="image-20251221142449132" style="zoom:50%;" />

   2. 以任意一个音类为根音, 可以构造一个大三和弦, 故共有 12 个大三和弦。从任意一个大三和弦出发, 构造 P,R,L 循环, 就可以得到 12 个互不相同的循环, 对应于 12 个正六边形（像上图）

      将这些正六边形按照其公共边重合起来，就得到一个网状的图，称为 **音网（Tonnetz）**

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221142644836.png" alt="image-20251221142644836" style="zoom:50%;" />

   3. P,R,L 循环<img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221142739477.png" alt="image-20251221142739477" style="zoom: 50%;" />

      中，这六个三和弦包含唯一一个共同的音类 G。<img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221142826409.png" alt="image-20251221142826409" style="zoom:50%;" />

      在音网中, 用正六边形对应的6个三和弦共同包含的这个唯一的音类作为这个六边形的标号,于是把音网表示成若干带标号的正六边形构成的图形：

      <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221142858025.png" alt="image-20251221142858025" style="zoom:50%;" />

   4. 音网中两个六边形是否相邻，在某种程度上反映了这两个六边形的标号所构成的音程是否协和。

   5. 顶点音类<img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221144206057.png" alt="image-20251221144206057" style="zoom:50%;" />

   6. 十二平均律体系中是环面：在十二平均律体系内, 音网实际上并不是无限延展的, 而是在水平和垂直两个方向出现周期性的重复。在几何上, 这样的一个具有双周期的图形构成一个 **环面**。

   7. 

   8. <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221145820965.png" alt="image-20251221145820965" style="zoom:50%;" />

4. 新黎曼群

   - 大、小三和弦的集合 $\mathscr{S}$ 上的平行变换 $P$，关系变换 $R$ 和导音交换 $L$ 关于变换的复合 $*$ 构成一个群$$\mathscr{N} = \langle P, R, L \rangle,$$称作 **新黎曼群 (neo-Riemannian group)**。

   - $\mathscr{N}$ 同构于 24 阶二面体群 $D_{24}$。

   - 事实上，只用两个黎曼变换 $R$ 和 $L$ 就可以生成群 $\mathscr{N}$

   - $$P = R * (L * R)^{3} = R * L * R * L * R * L * R.$$

   - ==群中的字==

     - 设 $G$ 是一个群，子集合 $S \subset G$ 是 $G$ 的一个生成元集合。$S$ 上的一个 **字 (word)** 是一个形如

       $$s_{1}^{\varepsilon_{1}} * s_{2}^{\varepsilon_{2}} * \cdots * s_{k}^{\varepsilon_{k}}$$

       的表达式，其中 $s_{i} \in S, \varepsilon_{i} = \pm 1, 1 \le i \le k$。

     - 在新黎曼群 $\mathscr{N}$ 中，$S = \{P, R, L\}$ 是一个生成元集合，

       $$R * P * R * L * R, \quad L * R * L * R * L * R * L * R * L * R * L$$

       等都是 $S$ 上的字。

     - 直观：字就是生成元串

     - 字对应音网上一个和弦进行路径

   - 新黎曼群中的字、和弦序列、音网上的路径：和弦变换三位一体

     <img src="C:\Users\浪涛依旧铭记\AppData\Roaming\Typora\typora-user-images\image-20251221150452241.png" alt="image-20251221150452241" style="zoom:50%;" />

     作品实例：海顿的 e 小调钢琴奏鸣曲（Piano Sonata in E-minor, Hob XVI:34）第72 - 76 小节

   - 音网上的 **哈密顿圈**：环面上的音网图包含一个哈密顿圈, 说明：
   
     - 可以从一个三和弦出发, 经过一系列的变换 P,R,L, 使得 24 个大、小三和弦每个都恰好出现一次。
     - 可以比较“平滑”地遍历全部大、小三和弦。



---

# 数学中的节奏与节奏的数学

ppt上没标掌握，没标就是不考~~（不考我就不写）~~

1. 时值序列（duration rows）
   1. 增值变换，时值序列 
   2. 整体序列主义

2. Clapping Music

   1. 一共有多少种可能的 **节奏型**?

      1. 项链的计数

      2. 置换的轮换分解

      3. 不动点集合，Burnside 引理和 Polya 定理（见离散笔记）

         设 $G$ 是集合 $\Omega$ 上的一个置换群，共有 $t$ 条轨道，则有

         $$t = \frac{1}{|G|} \sum\limits_{g \in G} |\Omega_g|$$

         其中不动点集合 $\Omega_g = \{\alpha \in \Omega \space | \space g(\alpha) = \alpha\}$

3. 序列主义 vs 简约主义

   1. 简约主义：用最少的音乐材料达到尽可能大的效果，采用简单的和声语言重复短小的音乐动机。
      （重复，冗余，持续不断，有侵略性）
   2. 泛三和弦（pan-triadic）：指环王 2：双塔奇兵（The Lord of the Rings : The Two Towers）(2002)

~~（好吧还是写一点）~~
